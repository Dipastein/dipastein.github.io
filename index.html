<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
//<![CDATA[
(async function() {
  try {
    const response = await fetch("https://mbitly.blogspot.com/p/urls.html");
    const html = await response.text();

    const parser = new DOMParser();
    const doc = parser.parseFromString(html, "text/html");
    const jsonText = doc.querySelector("#urlData").textContent;
    const urls = JSON.parse(jsonText);

    const key = window.location.pathname.slice(1); // hapus leading '/'
    if (urls[key]) {
      window.location.replace(urls[key]);
    } else {
      document.body.innerHTML = `<h2>Shortlink '${key}' tidak ditemukan.</h2>`;
    }
  } catch (e) {
    console.error(e);
    document.body.innerHTML = "Gagal memuat data shortlink.";
  }
})();
//]]>
  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>
